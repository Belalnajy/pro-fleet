<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .test-section h3 {
            color: #2563eb;
            margin-top: 0;
        }
        input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        .result {
            background: #e7f3ff;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 4px solid #2563eb;
        }
        .success {
            background: #d4edda;
            border-left-color: #28a745;
            color: #155724;
        }
        .error {
            background: #f8d7da;
            border-left-color: #dc3545;
            color: #721c24;
        }
        button {
            background: #2563eb;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #1d4ed8;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”¢ Ø§Ø®ØªØ¨Ø§Ø± ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</h1>
        
        <div class="test-section">
            <h3>Ø§Ø®ØªØ¨Ø§Ø± ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¥Ù„Ù‰ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</h3>
            <p>Ø£Ø¯Ø®Ù„ Ø£Ø±Ù‚Ø§Ù… Ø¹Ø±Ø¨ÙŠØ© (Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©) Ø£Ùˆ Ù…Ø®ØªÙ„Ø·Ø©:</p>
            <input type="text" id="arabicInput" placeholder="Ù…Ø«Ø§Ù„: Ù¡Ù¢Ù£.Ù¤Ù¥ Ø£Ùˆ Ù¥Ù Ù Ù ">
            <button onclick="testArabicToEnglish()">ØªØ­ÙˆÙŠÙ„</button>
            <div id="arabicResult" class="result"></div>
        </div>

        <div class="test-section">
            <h3>Ø§Ø®ØªØ¨Ø§Ø± ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø¥Ù„Ù‰ Ø¹Ø±Ø¨ÙŠØ©</h3>
            <p>Ø£Ø¯Ø®Ù„ Ø£Ø±Ù‚Ø§Ù… Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© (0123456789):</p>
            <input type="text" id="englishInput" placeholder="Ù…Ø«Ø§Ù„: 123.45 Ø£Ùˆ 5000">
            <button onclick="testEnglishToArabic()">ØªØ­ÙˆÙŠÙ„</button>
            <div id="englishResult" class="result"></div>
        </div>

        <div class="test-section">
            <h3>Ø§Ø®ØªØ¨Ø§Ø± ØªØ·Ø¨ÙŠØ¹ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…</h3>
            <p>Ø£Ø¯Ø®Ù„ Ø£Ø±Ù‚Ø§Ù… Ù…Ø®ØªÙ„Ø·Ø© Ø£Ùˆ Ù…Ø¹ Ø±Ù…ÙˆØ² Ø¥Ø¶Ø§ÙÙŠØ©:</p>
            <input type="text" id="normalizeInput" placeholder="Ù…Ø«Ø§Ù„: Ù¡Ù¢Ù£abcÙ¤Ù¥.Ù¦Ù§xyz">
            <button onclick="testNormalize()">ØªØ·Ø¨ÙŠØ¹</button>
            <div id="normalizeResult" class="result"></div>
        </div>

        <div class="test-section">
            <h3>Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø­Ø§ÙƒØ§Ø© Ø­Ù‚Ù„ Ø§Ù„ÙˆØ²Ù†</h3>
            <p>Ù…Ø­Ø§ÙƒØ§Ø© Ø­Ù‚Ù„ ÙˆØ²Ù† Ø§Ù„Ø¨Ø¶Ø§Ø¹Ø© (ÙŠÙ‚Ø¨Ù„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©):</p>
            <input type="text" id="weightInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙˆØ²Ù† Ø¨Ø§Ù„ÙƒÙŠÙ„ÙˆØ¬Ø±Ø§Ù…" oninput="simulateWeightField(this)">
            <div id="weightResult" class="result"></div>
        </div>

        <div class="test-section">
            <h3>Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø­Ø§ÙƒØ§Ø© Ø­Ù‚Ù„ Ø§Ù„Ø³Ø¹Ø±</h3>
            <p>Ù…Ø­Ø§ÙƒØ§Ø© Ø­Ù‚Ù„ Ø³Ø¹Ø± Ø§Ù„Ø±Ø­Ù„Ø© (ÙŠÙ‚Ø¨Ù„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù…Ø¹ Ø¹Ø´Ø±ÙŠØ©):</p>
            <input type="text" id="priceInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø±ÙŠØ§Ù„" oninput="simulatePriceField(this)">
            <div id="priceResult" class="result"></div>
        </div>

        <div class="test-section">
            <h3>Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø³Ø±ÙŠØ¹Ø©</h3>
            <button onclick="runQuickTests()">ØªØ´ØºÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</button>
            <div id="quickTestsResult"></div>
        </div>
    </div>

    <script>
        // Ù†Ø³Ø®Ø© Ù…Ø¨Ø³Ø·Ø© Ù…Ù† Ø¯ÙˆØ§Ù„ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
        function convertArabicToEnglishNumbers(input) {
            if (!input) return input;
            const arabicNumbers = ['Ù ', 'Ù¡', 'Ù¢', 'Ù£', 'Ù¤', 'Ù¥', 'Ù¦', 'Ù§', 'Ù¨', 'Ù©'];
            const englishNumbers = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];
            let result = input;
            for (let i = 0; i < arabicNumbers.length; i++) {
                const arabicRegex = new RegExp(arabicNumbers[i], 'g');
                result = result.replace(arabicRegex, englishNumbers[i]);
            }
            return result;
        }

        function convertEnglishToArabicNumbers(input) {
            if (!input) return input;
            const arabicNumbers = ['Ù ', 'Ù¡', 'Ù¢', 'Ù£', 'Ù¤', 'Ù¥', 'Ù¦', 'Ù§', 'Ù¨', 'Ù©'];
            const englishNumbers = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];
            let result = input;
            for (let i = 0; i < englishNumbers.length; i++) {
                const englishRegex = new RegExp(englishNumbers[i], 'g');
                result = result.replace(englishRegex, arabicNumbers[i]);
            }
            return result;
        }

        function normalizeNumberInput(input) {
            if (!input) return '';
            let normalized = convertArabicToEnglishNumbers(input);
            normalized = normalized.replace(/[^\d.-]/g, '');
            const parts = normalized.split('.');
            if (parts.length > 2) {
                normalized = parts[0] + '.' + parts.slice(1).join('');
            }
            if (normalized.includes('-')) {
                const isNegative = normalized.charAt(0) === '-';
                normalized = normalized.replace(/-/g, '');
                if (isNegative) {
                    normalized = '-' + normalized;
                }
            }
            return normalized;
        }

        function parseArabicNumber(input) {
            if (!input) return NaN;
            const normalized = normalizeNumberInput(input);
            return parseFloat(normalized);
        }

        function testArabicToEnglish() {
            const input = document.getElementById('arabicInput').value;
            const result = convertArabicToEnglishNumbers(input);
            const resultDiv = document.getElementById('arabicResult');
            
            resultDiv.innerHTML = `
                <strong>Ø§Ù„Ù…Ø¯Ø®Ù„:</strong> ${input}<br>
                <strong>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong> ${result}<br>
                <strong>ÙƒØ±Ù‚Ù…:</strong> ${parseFloat(result) || 'ØºÙŠØ± ØµØ§Ù„Ø­'}
            `;
            
            if (!isNaN(parseFloat(result))) {
                resultDiv.className = 'result success';
            } else {
                resultDiv.className = 'result error';
            }
        }

        function testEnglishToArabic() {
            const input = document.getElementById('englishInput').value;
            const result = convertEnglishToArabicNumbers(input);
            const resultDiv = document.getElementById('englishResult');
            
            resultDiv.innerHTML = `
                <strong>Ø§Ù„Ù…Ø¯Ø®Ù„:</strong> ${input}<br>
                <strong>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong> ${result}
            `;
            resultDiv.className = 'result success';
        }

        function testNormalize() {
            const input = document.getElementById('normalizeInput').value;
            const result = normalizeNumberInput(input);
            const parsed = parseArabicNumber(input);
            const resultDiv = document.getElementById('normalizeResult');
            
            resultDiv.innerHTML = `
                <strong>Ø§Ù„Ù…Ø¯Ø®Ù„:</strong> ${input}<br>
                <strong>Ø¨Ø¹Ø¯ Ø§Ù„ØªØ·Ø¨ÙŠØ¹:</strong> ${result}<br>
                <strong>ÙƒØ±Ù‚Ù…:</strong> ${parsed || 'ØºÙŠØ± ØµØ§Ù„Ø­'}
            `;
            
            if (!isNaN(parsed)) {
                resultDiv.className = 'result success';
            } else {
                resultDiv.className = 'result error';
            }
        }

        function simulateWeightField(input) {
            const value = input.value;
            const normalized = normalizeNumberInput(value);
            const parsed = parseArabicNumber(value);
            const resultDiv = document.getElementById('weightResult');
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„ÙˆØ²Ù†
            let validation = '';
            if (parsed && parsed > 0) {
                validation = `âœ… ÙˆØ²Ù† ØµØ§Ù„Ø­: ${parsed} ÙƒØ¬Ù…`;
                resultDiv.className = 'result success';
            } else if (value && isNaN(parsed)) {
                validation = `âŒ ÙˆØ²Ù† ØºÙŠØ± ØµØ§Ù„Ø­`;
                resultDiv.className = 'result error';
            } else {
                validation = `â³ Ø£Ø¯Ø®Ù„ Ø§Ù„ÙˆØ²Ù†...`;
                resultDiv.className = 'result';
            }
            
            resultDiv.innerHTML = `
                <strong>Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¯Ø®Ù„Ø©:</strong> ${value}<br>
                <strong>Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„:</strong> ${normalized}<br>
                <strong>Ø§Ù„ØªØ­Ù‚Ù‚:</strong> ${validation}
            `;
        }

        function simulatePriceField(input) {
            const value = input.value;
            const normalized = normalizeNumberInput(value);
            const parsed = parseArabicNumber(value);
            const resultDiv = document.getElementById('priceResult');
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø³Ø¹Ø±
            let validation = '';
            if (parsed && parsed > 0) {
                validation = `âœ… Ø³Ø¹Ø± ØµØ§Ù„Ø­: ${parsed.toFixed(2)} Ø±ÙŠØ§Ù„`;
                resultDiv.className = 'result success';
            } else if (value && isNaN(parsed)) {
                validation = `âŒ Ø³Ø¹Ø± ØºÙŠØ± ØµØ§Ù„Ø­`;
                resultDiv.className = 'result error';
            } else {
                validation = `â³ Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¹Ø±...`;
                resultDiv.className = 'result';
            }
            
            resultDiv.innerHTML = `
                <strong>Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¯Ø®Ù„Ø©:</strong> ${value}<br>
                <strong>Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„:</strong> ${normalized}<br>
                <strong>Ø§Ù„ØªØ­Ù‚Ù‚:</strong> ${validation}
            `;
        }

        function runQuickTests() {
            const tests = [
                { input: 'Ù¡Ù¢Ù£', expected: '123', desc: 'Ø£Ø±Ù‚Ø§Ù… Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø³ÙŠØ·Ø©' },
                { input: 'Ù¡Ù¢Ù£.Ù¤Ù¥', expected: '123.45', desc: 'Ø£Ø±Ù‚Ø§Ù… Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¹ Ø¹Ø´Ø±ÙŠØ©' },
                { input: 'Ù¥Ù Ù Ù ', expected: '5000', desc: 'Ø±Ù‚Ù… ÙƒØ¨ÙŠØ± Ø¹Ø±Ø¨ÙŠ' },
                { input: '123abc456', expected: '123456', desc: 'Ø£Ø±Ù‚Ø§Ù… Ù…Ø¹ Ø£Ø­Ø±Ù' },
                { input: 'Ù¡Ù¢Ù£abcÙ¤Ù¥Ù¦', expected: '123456', desc: 'Ø£Ø±Ù‚Ø§Ù… Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¹ Ø£Ø­Ø±Ù' },
                { input: 'Ù¡Ù¢.Ù£Ù¤.Ù¥Ù¦', expected: '12.3456', desc: 'Ø¹Ø¯Ø© Ù†Ù‚Ø§Ø· Ø¹Ø´Ø±ÙŠØ©' },
                { input: '', expected: '', desc: 'Ù†Øµ ÙØ§Ø±Øº' },
                { input: 'abc', expected: '', desc: 'Ø£Ø­Ø±Ù ÙÙ‚Ø·' }
            ];
            
            let results = '<h4>Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©:</h4>';
            let allPassed = true;
            
            tests.forEach((test, index) => {
                const result = normalizeNumberInput(test.input);
                const passed = result === test.expected;
                allPassed = allPassed && passed;
                
                results += `
                    <div style="margin: 10px 0; padding: 10px; border-radius: 5px; ${passed ? 'background: #d4edda; color: #155724;' : 'background: #f8d7da; color: #721c24;'}">
                        <strong>${index + 1}. ${test.desc}</strong><br>
                        Ø§Ù„Ù…Ø¯Ø®Ù„: "${test.input}" â†’ Ø§Ù„Ù†ØªÙŠØ¬Ø©: "${result}" (Ù…ØªÙˆÙ‚Ø¹: "${test.expected}")
                        ${passed ? ' âœ…' : ' âŒ'}
                    </div>
                `;
            });
            
            results += `<div style="margin-top: 20px; padding: 15px; border-radius: 5px; font-weight: bold; ${allPassed ? 'background: #d4edda; color: #155724;' : 'background: #f8d7da; color: #721c24;'}">
                ${allPassed ? 'ğŸ‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù†Ø¬Ø­Øª!' : 'âš ï¸ Ø¨Ø¹Ø¶ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙØ´Ù„Øª'}
            </div>`;
            
            document.getElementById('quickTestsResult').innerHTML = results;
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.onload = function() {
            document.getElementById('arabicInput').value = 'Ù¡Ù¢Ù£.Ù¤Ù¥';
            document.getElementById('englishInput').value = '123.45';
            document.getElementById('normalizeInput').value = 'Ù¡Ù¢Ù£abcÙ¤Ù¥.Ù¦Ù§';
            
            console.log('ğŸ”¢ ØµÙØ­Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¬Ø§Ù‡Ø²Ø©!');
        };
    </script>
</body>
</html>
