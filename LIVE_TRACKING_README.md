# ๐ ูุธุงู ุงูุชุชุจุน ุงููุจุงุดุฑ ููุณุงุฆููู - Live Driver Tracking System

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทููุฑ ูุธุงู ุงูุชุชุจุน ุงููุจุงุดุฑ ูุชูููู ุงูุฃุฏูู ูู ูุฑุงูุจุฉ ููุงูุน ุงูุณุงุฆููู ูู ุงูููุช ุงููุนูู ุนูุฏ ูุจูููู ููุฑุญูุงุช. ูููุฑ ุงููุธุงู ุชุชุจุนุงู ูุจุงุดุฑุงู ูููุงูุน ุงูุณุงุฆููู ูุน ุนุฑุถ ุชูุงุนูู ุนูู ุงูุฎุฑุงุฆุท.

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ฏ ููุณุงุฆููู
- **ุตูุญุฉ ุงูุชุชุจุน ุงููุจุงุดุฑ**: `/driver/live-tracking`
- ุฅุฑุณุงู ุงููููุน ุชููุงุฆูุงู ูู 5 ุซูุงูู ุนูุฏ ูุจูู ุงูุฑุญูุฉ
- ุนุฑุถ ุงููููุน ุงูุญุงูู ุนูู ุฎุฑูุทุฉ ุชูุงุนููุฉ
- ุฅุญุตุงุฆูุงุช ุงูุชุชุจุน (ุนุฏุฏ ุงูููุงุท ุงูููุฑุณูุฉุ ุญุงูุฉ ุงูุงุชุตุงู)
- ุงูุชุญูู ูู ุจุฏุก/ุฅููุงู ุงูุชุชุจุน
- ุชุญุฏูุซ ุญุงูุฉ ุงูุฑุญูุฉ ุฅูู "ููุณููุฉ"

### ๐ฏ ููุฃุฏูู
- **ุตูุญุฉ ุงูุชุชุจุน ุงููุจุงุดุฑ**: `/admin/live-tracking`
- ูุฑุงูุจุฉ ุฌููุน ุงูุณุงุฆููู ุงููุดุทูู
- ุนุฑุถ ุฅุญุตุงุฆูุงุช ุดุงููุฉ (ุฑุญูุงุช ูุดุทุฉุ ุณุงุฆููู ูุชุตููู)
- ุงูุจุญุซ ูุงูุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ ูุงูุณุงุฆู
- ุนุฑุถ ูุงุฆูุฉ ููุตูุฉ ุฃู ุฎุฑูุทุฉ ุดุงููุฉ
- ุงูุชุญูู ูู ุชูุนูู/ุฅููุงู ุงูุชุชุจุน ููุณุงุฆููู

## ุงูููููุงุช ุงูุชูููุฉ

### ๐ก APIs ุงูุฌุฏูุฏุฉ

#### 1. Driver Tracking API
**ุงููุณุงุฑ**: `/api/driver/tracking`

**POST** - ุฅุฑุณุงู ูููุน ุงูุณุงุฆู:
```json
{
  "tripId": "trip_id",
  "latitude": 24.7136,
  "longitude": 46.6753,
  "speed": 60,
  "heading": 180
}
```

**GET** - ุฌูุจ ุณุฌูุงุช ุงูุชุชุจุน:
```json
{
  "tripId": "trip_id",
  "limit": 50
}
```

#### 2. Admin Tracking API
**ุงููุณุงุฑ**: `/api/admin/tracking`

**GET** - ุฌูุจ ุจูุงูุงุช ุงูุชุชุจุน:
- `?activeOnly=true` - ุงูุฑุญูุงุช ุงููุดุทุฉ ููุท

**PUT** - ุงูุชุญูู ูู ุงูุชุชุจุน:
```json
{
  "driverId": "driver_id",
  "trackingEnabled": true
}
```

### ๐บ๏ธ ููููุงุช ุงูุฎุฑุงุฆุท

#### EnhancedLiveTrackingMap
ูููู ุฎุฑูุทุฉ ูุญุณู ูููุฑ:
- ุนุฑุถ ุงููููุน ุงูุญุงูู ููุณุงุฆู
- ูุณุงุฑ ุงูุชุชุจุน (Trail)
- ููุงุท ุงูุจุฏุงูุฉ ูุงููุฌูุฉ
- ุฃุฏูุงุช ุงูุชุญูู (ุชูุณูุทุ ุชูุจูุฑุ ููุก ุงูุดุงุดุฉ)
- ูุนูููุงุช ุงูุญุงูุฉ ูุงูุงุชุตุงู

### ๐ฑ ุตูุญุงุช ุงููุณุชุฎุฏู

#### ุตูุญุฉ ุงูุณุงุฆู - Live Tracking
**ุงููุณุงุฑ**: `/driver/live-tracking?tripId=xxx`

**ุงูููุฒุงุช**:
- ุนุฑุถ ูุนูููุงุช ุงูุฑุญูุฉ ุงูุญุงููุฉ
- ุฎุฑูุทุฉ ุชูุงุนููุฉ ูููููุน ุงูุญุงูู
- ุฅุญุตุงุฆูุงุช ุงูุชุชุจุน ุงููุจุงุดุฑ
- ุฃุฒุฑุงุฑ ุงูุชุญูู (ุจุฏุก/ุฅููุงู ุงูุชุชุจุนุ ุชุณููู ุงูุฑุญูุฉ)

#### ุตูุญุฉ ุงูุฃุฏูู - Live Tracking
**ุงููุณุงุฑ**: `/admin/live-tracking`

**ุงูููุฒุงุช**:
- ุฅุญุตุงุฆูุงุช ุดุงููุฉ ูููุธุงู
- ูุงุฆูุฉ ููุตูุฉ ุจุฌููุน ุงูุฑุญูุงุช ุงููุดุทุฉ
- ุฎุฑูุทุฉ ุดุงููุฉ ูุฌููุน ุงูุณุงุฆููู
- ุฃุฏูุงุช ุงูุจุญุซ ูุงูุชุตููุฉ
- ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุชุชุจุน

## ุชุฏูู ุงูุนูู

### 1. ูุจูู ุงูุฑุญูุฉ
```
ุงูุณุงุฆู ููุจู ุงูุฑุญูุฉ โ ุชูุนูู ุงูุชุชุจุน ุชููุงุฆูุงู โ ุจุฏุก ุฅุฑุณุงู ุงููููุน
```

### 2. ุงูุชุชุจุน ุงููุจุงุดุฑ
```
ุงูุณุงุฆู ูุฑุณู ุงููููุน ูู 5 ุซูุงูู โ ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช โ ุนุฑุถ ููุฃุฏูู
```

### 3. ูุฑุงูุจุฉ ุงูุฃุฏูู
```
ุงูุฃุฏูู ููุชุญ ุตูุญุฉ ุงูุชุชุจุน โ ุนุฑุถ ุฌููุน ุงูุณุงุฆููู ุงููุดุทูู โ ูุฑุงูุจุฉ ูุจุงุดุฑุฉ
```

## ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู TrackingLog
```sql
- id: String (Primary Key)
- driverId: String (Foreign Key)
- tripId: String (Foreign Key)
- latitude: Float
- longitude: Float
- speed: Float
- heading: Float
- timestamp: DateTime
```

### ุชุญุฏูุซุงุช ุฌุฏูู Driver
```sql
- trackingEnabled: Boolean (ุฌุฏูุฏ)
- currentLocation: String (ูุญุฏุซ)
```

## ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### ๐ ุงูุชุญูู ูู ุงููุตูู
- ุงูุณุงุฆููู: ูููููู ุฅุฑุณุงู ููุงูุนูู ููุท
- ุงูุฃุฏูู: ูููููู ูุฑุงูุจุฉ ุฌููุน ุงูุณุงุฆููู ูุงูุชุญูู ูู ุงูุชุชุจุน
- ุงูุนููุงุก: ูุง ูููููู ุงููุตูู ูุจูุงูุงุช ุงูุชุชุจุน ุงููุจุงุดุฑ

### ๐ก๏ธ ุญูุงูุฉ ุงูุจูุงูุงุช
- ุชุดููุฑ ุงูุจูุงูุงุช ุงูููุฑุณูุฉ ุนุจุฑ HTTPS
- ุงูุชุญูู ูู ุตุญุฉ ุงููุณุชุฎุฏู ูุจู ูู ุทูุจ
- ุชุญุฏูุฏ ุนุฏุฏ ุงูููุงุท ุงููุญููุธุฉ ูุชุฌูุจ ุงูุชูุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงูุฃุฏุงุก ูุงูุชุญุณูู

### โก ุชุญุณููุงุช ุงูุฃุฏุงุก
- ุฅุฑุณุงู ุงููููุน ูู 5 ุซูุงูู (ูุงุจู ููุชุฎุตูุต)
- ุญูุธ ุขุฎุฑ 50 ููุทุฉ ููุท ููู ุณุงุฆู
- ุชุญุฏูุซ ุชููุงุฆู ููุฃุฏูู ูู 10 ุซูุงูู
- ุงุณุชุฎุฏุงู Leaflet ููุฎุฑุงุฆุท (ุฎููู ูุณุฑูุน)

### ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- ุนุฏุงุฏ ุงูููุงุท ุงูููุฑุณูุฉ
- ุญุงูุฉ ุงูุงุชุตุงู (ูุชุตู/ุบูุฑ ูุชุตู)
- ููุช ุขุฎุฑ ุชุญุฏูุซ
- ุฅุญุตุงุฆูุงุช ุดุงููุฉ ูููุธุงู

## ุงูุชุทููุฑ ุงููุณุชูุจูู

### ๐ฎ ููุฒุงุช ููุชุฑุญุฉ
1. **ุฅุดุนุงุฑุงุช ููุฑูุฉ**: Socket.IO ููุชุญุฏูุซุงุช ุงูููุฑูุฉ
2. **ุชุชุจุน ุงููุณุงุฑ**: ุญูุธ ูุนุฑุถ ุงููุณุงุฑ ุงููุงูู ููุฑุญูุฉ
3. **ุชูุจููุงุช ุฐููุฉ**: ุชูุจููุงุช ุนูุฏ ุงูุฎุฑูุฌ ุนู ุงููุณุงุฑ ุฃู ุงูุชููู ุงูุทููู
4. **ุชุญูููุงุช ูุชูุฏูุฉ**: ุชูุงุฑูุฑ ุนู ุฃุฏุงุก ุงูุณุงุฆููู ูุฃููุงุช ุงูุฑุญูุงุช
5. **ุชุชุจุน ููุนููุงุก**: ุงูุณูุงุญ ููุนููุงุก ุจูุฑุงูุจุฉ ุฑุญูุงุชูู

### ๐๏ธ ุชุญุณููุงุช ุชูููุฉ
1. **WebSocket**: ููุชุญุฏูุซุงุช ุงูููุฑูุฉ ุจุฏูุงู ูู Polling
2. **Service Workers**: ููุนูู ูู ุงูุฎูููุฉ ุญุชู ุนูุฏ ุฅุบูุงู ุงูุชุทุจูู
3. **Offline Support**: ุญูุธ ุงูููุงูุน ูุญููุงู ูุฅุฑุณุงููุง ุนูุฏ ุงูุงุชุตุงู
4. **Push Notifications**: ุฅุดุนุงุฑุงุช ููุฃุฏูู ุนูุฏ ุงูุฃุญุฏุงุซ ุงููููุฉ

## ุงูุงุณุชุฎุฏุงู

### ููุณุงุฆููู
1. ูุจูู ุฑุญูุฉ ูู ุตูุญุฉ ุงูุฑุญูุงุช
2. ุงูุงูุชูุงู ูุตูุญุฉ ุงูุชุชุจุน ุงููุจุงุดุฑ
3. ุจุฏุก ุงูุชุชุจุน (ุชููุงุฆู ุนูุฏ ูุจูู ุงูุฑุญูุฉ)
4. ูุฑุงูุจุฉ ุงููููุน ุนูู ุงูุฎุฑูุทุฉ
5. ุชุญุฏูุซ ุญุงูุฉ ุงูุฑุญูุฉ ุนูุฏ ุงูุชุณููู

### ููุฃุฏูู
1. ูุชุญ ุตูุญุฉ ุงูุชุชุจุน ุงููุจุงุดุฑ
2. ูุฑุงุฌุนุฉ ุงูุฅุญุตุงุฆูุงุช ุงูุนุงูุฉ
3. ุงูุจุญุซ ุนู ุฑุญูุฉ ุฃู ุณุงุฆู ูุญุฏุฏ
4. ูุฑุงูุจุฉ ุงูููุงูุน ุนูู ุงูุฎุฑูุทุฉ
5. ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุชุชุจุน ุญุณุจ ุงูุญุงุฌุฉ

## ุงูุฏุนู ูุงูุตูุงูุฉ

### ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก
- ุงูุชุญูู ูู ุฅุฐู ุงููููุน ูู ุงููุชุตูุญ
- ุงูุชุฃูุฏ ูู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
- ูุฑุงุฌุนุฉ console logs ููุฃุฎุทุงุก
- ุงูุชุญูู ูู ุญุงูุฉ ุงูุฎุงุฏู

### ๐ ุงูุฏุนู ุงูุชููู
- ูุฑุงุฌุนุฉ ูููุงุช ุงูุณุฌู (logs)
- ูุฑุงูุจุฉ ุฃุฏุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุญุฏูุซ ุงูููููุงุช ุญุณุจ ุงูุญุงุฌุฉ
- ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูููุชุธู ููุจูุงูุงุช

---

## ููุงุญุธุงุช ุงููุทูุฑ

ุชู ุชุทููุฑ ูุฐุง ุงููุธุงู ุจุงุณุชุฎุฏุงู:
- **Next.js 14** ูุน App Router
- **TypeScript** ููุฃูุงู ุงูุชููู
- **Prisma** ููุงุนุฏุฉ ุงูุจูุงูุงุช
- **Leaflet** ููุฎุฑุงุฆุท
- **Tailwind CSS** ููุชุตููู
- **NextAuth.js** ูููุตุงุฏูุฉ

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ููููู ุชุทููุฑู ุฃูุซุฑ ุญุณุจ ุงุญุชูุงุฌุงุช ุงููุดุฑูุน.
