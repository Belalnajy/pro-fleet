# ุญููู ูุดููุฉ ุงูุชูุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ๐

## ุงููุดููุฉ ุงูุญุงููุฉ
ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุตูุช ูู 100% ูู ุงูุญุฏ ุงููุณููุญ (0.54 GB) ููุง ูููุน ุงูุนูููุงุช ุงูุฌุฏูุฏุฉ.

## ุงูุญููู ุงููุชุงุญุฉ (ุจุฏูุงู ูู ุงูู Upgrade)

### 1. ๐จ ุงูุญู ุงูุทุงุฑุฆ (ููุฑู)
```bash
npm run db:emergency-cleanup
```
**ูุง ููุนูู:**
- ุญุฐู ุฌููุน tracking logs ุฃูุฏู ูู ุฃุณุจูุนูู
- ุญุฐู ุฌููุน ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุกุฉ
- ุญุฐู ุงูุฅุดุนุงุฑุงุช ุงููุฏููุฉ ุบูุฑ ุงูููุฑูุกุฉ (ุฃูุฏู ูู ุดูุฑ)
- ุญุฐู ุงูุฌูุณุงุช ุงูููุชููุฉ
- ุญุฐู ุฑููุฒ ุงูุชุญูู ุงูููุชููุฉ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ุชูููุฑ 70-90% ูู ุงููุณุงุญุฉ

### 2. ๐ ุชุญููู ุงูุจูุงูุงุช ุฃููุงู
```bash
npm run db:analyze
```
**ููุนุฑูุฉ:**
- ุญุฌู ูู ุฌุฏูู
- ุนุฏุฏ ุงูุณุฌูุงุช ุงููุงุจูุฉ ููุญุฐู
- ุฃูุจุฑ ูุณุชูููู ุงููุณุงุญุฉ

### 3. ๐งน ุงูุชูุธูู ุงูุนุงุฏู
```bash
npm run db:cleanup
```
**ุชูุธูู ูุชูุงุฒู:**
- ุญุฐู tracking logs ุฃูุฏู ูู ุดูุฑ
- ุญุฐู ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุกุฉ ุฃูุฏู ูู ุฃุณุจูุนูู
- ุงูุญูุงุธ ุนูู ุงูุจูุงูุงุช ุงููููุฉ

### 4. ๐ ุงูุชูุธูู ุงูุชููุงุฆู
```bash
node scripts/auto-cleanup.js
```
**ููุงุณุชุฎุฏุงู ุงููููู:**
- ุญุฐู tracking logs ุฃูุฏู ูู 3 ุฃูุงู
- ุญุฐู ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุกุฉ ุฃูุฏู ูู ููู

## ๐ ุฎุทุฉ ุงูุนูู ุงูููุชุฑุญุฉ

### ุงูุฎุทูุฉ 1: ุงูุชูุธูู ุงูุทุงุฑุฆ
```bash
npm run db:emergency-cleanup
```

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงููุชูุฌุฉ
```bash
npm run db:analyze
```

### ุงูุฎุทูุฉ 3: ุฅุนุฏุงุฏ ุชูุธูู ุฏูุฑู
ุฅุถุงูุฉ cron job ููุชูุธูู ุงููููู:
```bash
# ุฅุถุงูุฉ ููู crontab
0 2 * * * cd /path/to/project && npm run db:emergency-cleanup
```

## ๐ฏ ุงูุจูุงูุงุช ุงูุฃูุซุฑ ุงุณุชููุงูุงู ูููุณุงุญุฉ

### 1. Tracking Logs (ุงูุฃูุจุฑ)
- **ุงููุดููุฉ:** ุชุณุฌูู GPS ูู ุซุงููุฉ ููุณุงุฆููู
- **ุงูุญู:** ุงูุงุญุชูุงุธ ุจุขุฎุฑ 3 ุฃูุงู ููุท
- **ุงูุชูููุฑ:** 80-90% ูู ุงููุณุงุญุฉ

### 2. ุงูุฅุดุนุงุฑุงุช
- **ุงููุดููุฉ:** ุชุฑุงูู ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุกุฉ
- **ุงูุญู:** ุญุฐู ุงูููุฑูุกุฉ ุฃูุฏู ูู ููู
- **ุงูุชูููุฑ:** 10-20% ูู ุงููุณุงุญุฉ

### 3. ุงูุฌูุณุงุช ูุงูุฑููุฒ
- **ุงููุดููุฉ:** ุนุฏู ุชูุธูู ุงูุจูุงูุงุช ุงูููุชููุฉ
- **ุงูุญู:** ุญุฐู ุงูููุชููุฉ ุงูุตูุงุญูุฉ
- **ุงูุชูููุฑ:** 5-10% ูู ุงููุณุงุญุฉ

## โ๏ธ ุฅุนุฏุงุฏุงุช ุงูุชุญุณูู

### ุชูููู ุชูุฑุงุฑ ุงูุชุชุจุน
ูู `/src/app/[locale]/driver/live-tracking/page.tsx`:
```javascript
// ุชุบููุฑ ูู ูู ุซุงููุฉ ุฅูู ูู 30 ุซุงููุฉ
const TRACKING_INTERVAL = 30000 // ุจุฏูุงู ูู 1000
```

### ุชูููู ุฏูุฉ ุงูุฅุญุฏุงุซูุงุช
```javascript
// ุชูููู ุนุฏุฏ ุงูุฎุงูุงุช ุงูุนุดุฑูุฉ
const lat = position.coords.latitude.toFixed(6)
const lng = position.coords.longitude.toFixed(6)
```

## ๐ง ุญููู ุจุฑูุฌูุฉ ุฅุถุงููุฉ

### 1. ุถุบุท ุงูุจูุงูุงุช
```sql
-- ุชุญููู ุงููุตูุต ุงูุทูููุฉ ูู TEXT ุจุฏูุงู ูู VARCHAR
ALTER TABLE tracking_logs MODIFY COLUMN notes TEXT;
```

### 2. ุฃุฑุดูุฉ ุงูุจูุงูุงุช
ุฅูุดุงุก ุฌุฏุงูู ุฃุฑุดูู ููุจูุงูุงุช ุงููุฏููุฉ:
```javascript
// ููู ุงูุจูุงูุงุช ุงููุฏููุฉ ูุฌุฏูู ูููุตู
await prisma.trackingLogArchive.createMany({
  data: oldTrackingLogs
})
```

### 3. ุชูุธูู ุงููููุงุช ุงููุฑููุนุฉ
```bash
# ุญุฐู ุงููููุงุช ุบูุฑ ุงููุณุชุฎุฏูุฉ
find uploads/ -type f -mtime +30 -delete
```

## ๐ ูุฑุงูุจุฉ ุงูุงุณุชุฎุฏุงู

### ุณูุฑูุจุช ูุฑุงูุจุฉ ูููู
```javascript
// ุฅุถุงูุฉ ุชูุจูู ุนูุฏ ูุตูู 80%
if (usagePercentage > 80) {
  console.warn('โ๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชูุชุฑุจ ูู ุงูุงูุชูุงุก!')
}
```

## ๐ฏ ุงููุตุงุฆุญ ูููุณุชูุจู

1. **ุชูุธูู ุฏูุฑู:** ุดุบู ุงูุชูุธูู ูู ููู
2. **ูุฑุงูุจุฉ ุงูุญุฌู:** ุชุญูู ูู ุงูุญุฌู ุฃุณุจูุนูุงู
3. **ุชุญุณูู ุงูููุฏ:** ููู ุชูุฑุงุฑ ุงูุชุชุจุน
4. **ุฃุฑุดูุฉ ุงูุจูุงูุงุช:** ุงููู ุงูุจูุงูุงุช ุงููุฏููุฉ
5. **ุถุบุท ุงููููุงุช:** ุงุณุชุฎุฏู ุถุบุท ูููููุงุช ุงููุจูุฑุฉ

## ๐ ููุฅูุชุงุฌ ุงูููุงุฆู

### ุณูุฑูุจุช ุงูุชุญุณูู ุงูุดุงูู
```bash
npm run optimize:production
```
**ูููู ุจู:**
- ุชูุธูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (tracking logs + ุฅุดุนุงุฑุงุช)
- ุชุญุณูู ุงูููุงุฑุณ
- ุฅุนุทุงุก ูุตุงุฆุญ ููุฅูุชุงุฌ
- ุนุฑุถ ุฅุนุฏุงุฏุงุช ุงูุฅูุชุงุฌ ุงูููุชุฑุญุฉ

### ุนูุฏ ุงููุดุฑ ุนูู ุณูุฑูุฑ ุญูููู:
- ุงุณุชุฎุฏู ูุงุนุฏุฉ ุจูุงูุงุช ุฃูุจุฑ (PostgreSQL)
- ูุนู ุงูุชูุธูู ุงูุชููุงุฆู (cron job ูููู)
- ุฑุงูุจ ุงูุงุณุชุฎุฏุงู ุจุงุณุชูุฑุงุฑ
- ุงุณุชุฎุฏู CDN ูููููุงุช ุงูุซูููุฉ (Cloudinary)
- ูุนู ุถุบุท ุงูุจูุงูุงุช ูุงูู caching

### ุฅุนุฏุงุฏุงุช ุงูุฅูุชุงุฌ:
```env
DATABASE_URL=postgresql://user:pass@host:5432/profleet_prod
NEXTAUTH_SECRET=your-super-secret-key
CLOUDINARY_URL=cloudinary://key:secret@cloud
NODE_ENV=production
```

### Cron Job ููุชูุธูู ุงููููู:
```bash
# ุฅุถุงูุฉ ููู crontab
0 2 * * * cd /path/to/project && npm run db:emergency-cleanup
0 3 * * * cd /path/to/project && npm run files:cleanup
```

---

**ููุงุญุธุฉ:** ูุฐู ุงูุญููู ุณุชููุฑ ูุณุงุญุฉ ูุงููุฉ ูุงุณุชููุงู ุงูุชุทููุฑ ุญุชู ุงูุฅูุชุงุฌ ุงูููุงุฆู ุจุฏูู ุงูุญุงุฌุฉ ููู upgrade ุงูุขู.
